# 要求仕様書（RequirementsSpecification.md）

## 敵（スライム/ウサギ）＋ドロップ（油/生肉）＋弓矢（遠距離）

### 概要

夜や探索に緊張感を与え、クラフト素材（油/生肉）を入手可能にし、食料ループの入口を作る機能。

---

## 1. スポーン条件

| 項目 | 仕様 |
|------|------|
| 出現場所 | 地上のみ（地下は将来の強敵用） |
| スポーン範囲 | プレイヤーから15〜30タイルの地表（画面外かつ近すぎない） |
| スライム出現時間 | 夜寄り |
| ウサギ出現時間 | 昼寄り |
| スライム最大同時数 | 3体 |
| ウサギ最大同時数 | 2体 |
| 湧き間隔 | 10〜15秒 |

---

## 2. 戦闘ルール

### プレイヤー

| 項目 | 仕様 |
|------|------|
| HP | 100 |
| 被ダメ時の無敵時間 | 0.5〜1.0秒 |
| ノックバック | あり（小さめ） |

### 武器（剣）

| 項目 | 仕様 |
|------|------|
| 攻撃範囲 | プレイヤー前方1〜2タイル |
| 攻撃間隔 | 0.3〜0.5秒 |
| ダメージ | 20〜30 |

---

## 3. ドロップルール

| 項目 | 仕様 |
|------|------|
| 落下物理 | 重力あり（既存システムと同じ） |
| 拾える距離 | 接触で拾う（既存システムと同じ） |
| スライムドロップ | 油×1（100%） |
| ウサギドロップ | 生肉×1（100%） |
| ドロップ寿命 | なし（消えない） |
| 同種マージ | なし（MVP） |

---

## 4. 弓矢ルール

### 弓（装備）

| 項目 | 仕様 |
|------|------|
| 矢の消費 | 1発撃つごとに矢を1本消費 |
| 連射クールダウン | 0.5秒 |
| ダメージ | 15〜20 |

### 矢（弾）

| 項目 | 仕様 |
|------|------|
| 挙動 | 直線弾（重力なし） |
| 消滅条件 | 壁または敵に当たる、または射程超過 |
| 射程 | 12タイル |

### 矢のクラフト

| レシピ | 結果 |
|--------|------|
| 枝×1 + 石×1 | 矢×5 |

---

## 5. 敵ステータス

### スライム

| 項目 | 値 |
|------|-----|
| HP | 60 |
| 攻撃力（接触ダメージ） | 15 |
| 移動速度 | プレイヤーの50%（遅め） |
| AI | プレイヤーを追尾 |
| ドロップ | 油×1 |

### ウサギ

| 項目 | 値 |
|------|-----|
| HP | 30 |
| 攻撃力 | 0（攻撃しない） |
| 移動速度 | プレイヤーの80%（速め） |
| AI | プレイヤーから逃走 |
| ドロップ | 生肉×1 |

---

## 6. バランス計算例

| 状況 | 計算 |
|------|------|
| スライムを剣で倒す | 25ダメージ × 3発 = 75 → 3発で撃破 |
| スライムを弓で倒す | 18ダメージ × 4発 = 72 → 4発で撃破 |
| ウサギを剣で倒す | 25ダメージ × 2発 = 50 → 2発で撃破 |
| ウサギを弓で倒す | 18ダメージ × 2発 = 36 → 2発で撃破 |
| プレイヤー被弾回数 | 100HP ÷ 15ダメージ ≒ 7回で死亡 |

---

## 7. 完了条件

- [ ] 敵（スライム/ウサギ）が条件に応じてスポーンする
- [ ] スライムがプレイヤーを追尾し、接触でダメージを与える
- [ ] ウサギがプレイヤーから逃げる
- [ ] 剣で敵を攻撃してダメージを与えられる
- [ ] 弓で矢を発射し、敵にダメージを与えられる
- [ ] 矢を撃つと矢が1本消費される
- [ ] 敵を倒すとドロップ（油/生肉）が落ちる
- [ ] ドロップを拾ってインベントリに入る
- [ ] 作業台で矢をクラフトできる
